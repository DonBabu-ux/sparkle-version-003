<!-- Hamburger Menu Overlay -->
<div class="hamburger-overlay" id="hamburgerOverlay"></div>

<!-- Hamburger Menu -->
<div class="hamburger-menu" id="hamburgerMenu">
    <div class="hamburger-header">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
            <div class="logo">Sparkle Menu</div>
            <button class="close-modal" id="closeHamburger">&times;</button>
        </div>

        <!-- User Profile Header house 5.0 -->
        <div class="user-profile-header" onclick="window.location.href='/profile'; hideHamburger();"
            style="display: flex; align-items: center; gap: 12px; padding: 10px; background: #fafafa; border-radius: 12px; margin-bottom: 20px; cursor: pointer;">
            <img src="<%= typeof user !== 'undefined' ? (user.avatar_url || '/uploads/avatars/default.png') : '/uploads/avatars/default.png' %>"
                style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--primary);"
                onerror="this.onerror=null;this.src='/uploads/avatars/default.png';">
            <div style="overflow: hidden;">
                <div
                    style="font-weight: 700; font-size: 15px; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    <%= typeof user !=='undefined' ? user.name : 'Sparkle Student' %>
                </div>
                <div style="font-size: 12px; color: #666; display: flex; align-items: center; gap: 4px;">
                    <i class="fas fa-graduation-cap" style="font-size: 10px; color: var(--primary);"></i>
                    <%= typeof user !=='undefined' ? user.campus : 'Select Campus' %>
                </div>
            </div>
        </div>

        <div style="font-size: 13px; color: #666;">Access all features from here</div>
    </div>

    <!-- Groups Section -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-users"></i> Groups
        </div>
        <div class="hamburger-item" onclick="window.location.href='/groups'; hideHamburger();">
            <i class="fas fa-users"></i>
            <span>My Groups</span>
            <span class="hamburger-badge" id="groupsCountBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="showGroupManagement(); hideHamburger();">
            <i class="fas fa-user-cog"></i>
            <span>Browse Groups</span>
        </div>
        <div class="hamburger-item" onclick="createGroup(); hideHamburger();">
            <i class="fas fa-plus-circle"></i>
            <span>Create New Group</span>
        </div>
        <div class="hamburger-item" onclick="showGroupFeed(); hideHamburger();">
            <i class="fas fa-newspaper"></i>
            <span>Group Feed</span>
        </div>
    </div>

    <!-- Campus Life & Social -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-heart"></i> Campus Life & Social
        </div>
        <div class="hamburger-item" onclick="window.location.href='/dashboard'; hideHamburger();">
            <i class="fas fa-home"></i>
            <span>Home Feed</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/connect'; hideHamburger();">
            <i class="fas fa-user-friends"></i>
            <span>Discover Students</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/moments'; hideHamburger();">
            <i class="fas fa-play-circle"></i>
            <span>Moments</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/clubs'; hideHamburger();">
            <i class="fas fa-university"></i>
            <span>Campus Clubs</span>
            <span class="hamburger-badge" id="clubsBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/messages'; hideHamburger();">
            <i class="fas fa-envelope"></i>
            <span>Messaging</span>
            <span class="hamburger-badge" id="messagesBadge" style="display: none;">0</span>
        </div>
    </div>

    <!-- Campus Marketplace -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-store"></i> Campus Marketplace
        </div>
        <div class="hamburger-item" onclick="window.location.href='/marketplace'; hideHamburger();">
            <i class="fas fa-shopping-bag"></i>
            <span>Black Market</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/marketplace'; hideHamburger();">
            <i class="fas fa-recycle"></i>
            <span>Second-hand Goods</span>
            <span class="hamburger-badge" id="secondhandBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/marketplace'; hideHamburger();">
            <i class="fas fa-tools"></i>
            <span>Campus Services</span>
        </div>
    </div>

    <!-- Lost & Found -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-search"></i> Lost & Found
        </div>
        <div class="hamburger-item" onclick="window.location.href='/lost-found'; hideHamburger();">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Lost Items</span>
            <span class="hamburger-badge" id="lostItemsBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/lost-found'; hideHamburger();">
            <i class="fas fa-check-circle"></i>
            <span>Found Items</span>
            <span class="hamburger-badge" id="foundItemsBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="reportLostItem(); hideHamburger();">
            <i class="fas fa-bullhorn"></i>
            <span>Report Lost Item</span>
        </div>
    </div>

    <!-- Skill Marketplace -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-graduation-cap"></i> Skill Marketplace
        </div>
        <div class="hamburger-item" onclick="window.location.href='/skill-market'; hideHamburger();">
            <i class="fas fa-chalkboard-teacher"></i>
            <span>Tutoring Services</span>
            <span class="hamburger-badge" id="tutorsBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/skill-market'; hideHamburger();">
            <i class="fas fa-laptop-code"></i>
            <span>Tech Support</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/skill-market'; hideHamburger();">
            <i class="fas fa-hands-helping"></i>
            <span>Skill Sharing</span>
        </div>
        <div class="hamburger-item" onclick="offerSkill(); hideHamburger();">
            <i class="fas fa-plus"></i>
            <span>Offer Your Skill</span>
        </div>
    </div>

    <!-- Settings Section -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-cog"></i> Settings
        </div>
        <div class="hamburger-item" onclick="showEnhancedSettings(); hideHamburger();">
            <i class="fas fa-sliders-h"></i>
            <span>All Settings</span>
        </div>
        <div class="hamburger-item" onclick="showConfessionsGallery(); hideHamburger();">
            <i class="fas fa-user-secret"></i>
            <span>Anonymous Confessions</span>
            <span class="hamburger-badge" id="confessionsBadge" style="display: none;">0</span>
        </div>
        <div class="hamburger-item" onclick="window.location.href='/about'; hideHamburger();">
            <i class="fas fa-info-circle"></i>
            <span>About Sparkle</span>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="hamburger-section">
        <div class="hamburger-section-title">
            <i class="fas fa-bolt"></i> Quick Actions
        </div>
        <div class="hamburger-item" onclick="openGoLiveModal(); hideHamburger();">
            <i class="fas fa-video" style="color: #FF416C;"></i>
            <span>Go Live</span>
        </div>
        <div class="hamburger-item" onclick="openCreatePollModal(); hideHamburger();">
            <i class="fas fa-poll-h" style="color: #667eea;"></i>
            <span>Create Poll</span>
        </div>
        <div class="hamburger-item" onclick="openEventModal(); hideHamburger();">
            <i class="fas fa-calendar-plus" style="color: #f2994a;"></i>
            <span>Create Event</span>
        </div>
    </div>

    <div style="padding: 20px; text-align: center; color: #999; font-size: 12px;">
        Sparkle v2.1 Enhanced<br>
        Campus Social Network
    </div>
</div>
